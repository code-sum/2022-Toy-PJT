{% extends 'base.html' %}
{% load django_bootstrap5 %}

{% block content %}

  <div class="container mt-5">
    <!-- Header -->
    <h1 class="fw-bold">{{ article.title }}</h1>
    <div class="d-flex justify-content-between">
      <p>{{ article.created_at }}
        작성됨</p>
      <p class="me-5">{{ article.updated_at }}
        수정됨</p>
    </div>
    <!-- Content -->
    <div>
      {% if article.image %}
        <img src="{{ article.image.url }}" alt="{{ article.image }}" width="400" height="300">
        <p class="me-5 mt-3">{{ article.content }}</p>
      {% else %}
        <p class="me-5 mt-3">{{ article.content }}</p>
      {% endif %}
    </div>
    <!-- Buttons -->
    <div class="text-end me-5">
      <a class="btn btn-success" href="{% url 'articles:update' article.pk %}">
        수정
      </a>
      <a class="btn btn-danger" href="{% url 'articles:delete' article.pk %}">
        삭제
      </a>
    </div>
    <!-- Comments -->
    <hr class="my-5">
    <form action="{% url 'articles:comment_create' article.pk %}" method="POST">
      {% csrf_token %}
      {% bootstrap_form comment_form layout='inline'%}
      <a class="btn btn-primary" type="submit">등록</a>
    </form>
    <br><br>
    {% for comment in comments %}
      <p>{{ comment.content }}</p>
      <hr>
      {% empty %}
      <div>
        <p>안녕하십니까? 댓글이 없는 곳에 번개처럼 나타나는 무플방지위원회입니다.
          <br>
          -무플방지위원회일동-
          <br>
          &nbsp;（｡･ω･｡)つ━☆・*。<br>
          ⊂ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ノ ・゜+.<br>
          &nbsp;&nbsp;しー&nbsp;Ｊ °。+ *</p>
      </div>
      <hr>
    {% endfor %}
  </div>

{% endblock %}